<!DOCTYPE html>
<html lang="en">    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flipcalip</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>flipcalip</h1>  
    <canvas id="canvas" width="800" height="800">
    </canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let x=1;
        let diff=1;
        let time = 0;
        function animate() {
            if ((x >= 700) || (x <= 0 )) {
                diff = diff*-1;
            }
            function makeHuman(x,y){
                ctx.strokeStyle = 'blue';
                ctx.beginPath();
                ctx.arc(x, y, 50, 0, Math.PI * 2);
                ctx.moveTo(x,y+50);
                ctx.lineTo(x, y + 125);
                ctx.moveTo(x, y + 83 + 1/3);
                ctx.lineTo(x + 25, y + 58 - 1/3);
                ctx.moveTo(x - 25, y + 58 - 1/3);
                ctx.lineTo(x, y + 83 + 1/3);
                ctx.moveTo(x, y + 125);
                ctx.lineTo(x + 25, y + 175);
                ctx.moveTo(x, y + 125);
                ctx.lineTo(x - 25, y + 175);
                ctx.stroke();
            }
            function makeGround(top, bottom){
                ctx.fillStyle= 'limegreen';
                ctx.fillRect(0, top, 800, 15);
                ctx.fillStyle = 'brown';
                ctx.fillRect(0, top+15, 800, bottom - top);
            }
            if (!((time >= 2100) && (time < 3000))) {
                ctx.clearRect(0,0,800,800);
            }
            makeGround(575,800);


            x = x+diff;
            makeHuman(x,400);
            ctx.fillStyle = 'red';
            ctx.font = '30px Arial';
            // ctx.fillText('time: ' + time, 10, 20); was to help me
            if (time < 400) {
                ctx.fillText('what a lovely day', x-100, 200);
            } else if ((time >= 400) && (time < 800)) {
                makeHuman(x+150,400);
                ctx.fillText('hi there', x+150, 250);
            } else if ((time >= 800) && (time < 1200)) {
                makeHuman(x+150,400);
                ctx.fillText('hi there how are you', x-100, 250);
            } else if ((time >= 1200) && (time < 1600)) {
                makeHuman(x+150,400);
                ctx.fillText('good bye', x+150, 250);
            } else if ((time >= 1600) && (time < 2000)) {
                ctx.fillText('good bye', x-100, 200);
            } else if ((time >= 2000) && (time < 2100)) {
                ctx.fillText('shadow jutsu time', x-100, 200);
            } else if ((time >= 2100) && (time < 3000)) {
                ctx.fillText('enable', x+150, 250);
            } else if (time >= 3000) {
                ctx.fillText('the end of the story', x-150, 250);
            }
            time++;
            requestAnimationFrame(animate);
        }
        animate()
    </script>
</body> 
</html>