<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page</title>
    <script src="../js/validate.js"></script>
    <script>
function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
const assetList = [
    'media/red.png',
    'media/purple.png',
    'media/green.png'
]
let currentAssetIndex = 0;

async function unfade(element, duration) {
    let opacity = 0;
    const interval = 50;
    const increment = interval / duration;
    while (opacity < 1) {
        opacity += increment;
        if (opacity > 1) opacity = 1;
        element.style.opacity = opacity;
        await delay(interval);
    }
}
async function main() {
    console.log('Changing Image');
    const img = document.getElementById('switch');
    if (img != null) {
        currentAssetIndex = (currentAssetIndex + 1) % assetList.length;
        img.src = assetList[currentAssetIndex];
        unfade(img, 2000);
    }else{
        console.log('Image element not found');
        return false;
    }
}
setInterval(main, 4000);
    </script>
</head>
<body>
    <h1>Test Page</h1>
    <img src="media/red.png" alt="Test image list" id="switch" width="300">
</body>
</html>